<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
      rel="stylesheet"
    />
    <script type="module" src="./script.js"></script>
  </head>
  <body>
    <section id="header">
      <div id="logo">
        <img src="./assets/logo.png" alt="logotipo ANT Multimarcas" />
      </div>
      <div id="address">
        <p>
          Rua Juiz de Fora, 2951-A, Natal/RN<br />Telefone: (84) 99410 - 4353
        </p>
      </div>
    </section>
    <section id="info-1">
      <div id="vehicle"><h1>CHEVROLET ONIX</h1></div>
      <div class="grid">
        <div class="age info">
          <div>
            <p id="age" class="info-2">
              Ano/mod: <span class="semibold">2014/2014</span>
            </p>
          </div>
        </div>
        <div class="km info">
          <p id="km" class="info-2">
            KM: <span class="semibold">135.000</span>
          </p>
        </div>
        <div id="fuel" class="fuel info">
          <p class="info-2">
            Combustível: <span class="semibold">Gasolina</span>
          </p>
        </div>
        <div id="transmission" class="transmission info">
          <p class="info-2">Câmbio: <span class="semibold">Automático</span></p>
        </div>
      </div>
    </section>
    <section id="optionals">
      <div>
        <input type="checkbox" name="t4" id="t4" />
        <label for="t4">Tração 4x4</label>
      </div>
      <div>
        <input type="checkbox" name="ab" id="ab" />
        <label for="ab">Airbags</label>
      </div>
      <div>
        <input type="checkbox" name="alarme" id="alarme" />
        <label for="alarme">Alarme</label>
      </div>
      <div>
        <input type="checkbox" name="ar" id="ar" />
        <label for="ar">Ar condicionado</label>
      </div>
      <div>
        <input type="checkbox" name="ard" id="ard" />
        <label for="ard">Ar condicionadoard digital</label>
      </div>
      <div>
        <input type="checkbox" name="banco-reg" id="banco-reg" />
        <label for="banco-reg">Banco c/ regulagem de altura</label>
      </div>
      <div>
        <input type="checkbox" name="couro" id="couro" />
        <label for="couro">Bancos em couro</label>
      </div>
      <div>
        <input type="checkbox" name="bt" id="bt" />
        <label for="bt">Bluetooth</label>
      </div>
      <div>
        <input type="checkbox" name="cp" id="cp" />
        <label for="cp">Capota marítima</label>
      </div>
      <div>
        <input type="checkbox" name="camera" id="camera" />
        <label for="camera">Câmera de ré</label>
      </div>
      <div>
        <input type="checkbox" name="cdp" id="cdp" />
        <label for="cdp">CD Player</label>
      </div>
      <div>
        <input type="checkbox" name="cbordo" id="cbordo" />
        <label for="cbordo">Computador de bordo</label>
      </div>
      <div>
        <input type="checkbox" name="ctracao" id="ctracao" />
        <label for="ctracao">Controle de tração</label>
      </div>
      <div>
        <input type="checkbox" name="desemtras" id="desemtras" />
        <label for="desemtras">Desembaçador traseiro</label>
      </div>
      <div>
        <input type="checkbox" name="hidraulica" id="hidraulica" />
        <label for="hidraulica">Direção hidráulica</label>
      </div>
      <div>
        <input type="checkbox" name="eletrica" id="eletrica" />
        <label for="eletrica">Direção elétrica</label>
      </div>
      <div>
        <input type="checkbox" name="dvd" id="dvd" />
        <label for="dvd">DVD</label>
      </div>
      <div>
        <input type="checkbox" name="enccab" id="enccab" />
        <label for="enccab">Encosto de cabeça traseiro</label>
      </div>
      <div>
        <input type="checkbox" name="estribo" id="estribo" />
        <label for="estribo">Estribo</label>
      </div>
      <div>
        <input type="checkbox" name="milha" id="milha" />
        <label for="milha">Farol de neblina</label>
      </div>
      <div>
        <input type="checkbox" name="abs" id="abs" />
        <label for="abs">Freio ABS</label>
      </div>
      <div>
        <input type="checkbox" name="gps" id="gps" />
        <label for="gps">GPS</label>
      </div>
      <div>
        <input type="checkbox" name="limptras" id="limptras" />
        <label for="limptras">Limpador traseiro</label>
      </div>
      <div>
        <input type="checkbox" name="paineldigital" id="paineldigital" />
        <label for="paineldigital">Painel digital</label>
      </div>
      <div>
        <input type="checkbox" name="protcacam" id="protcacam" />
        <label for="protcacam">Protetor de caçamba</label>
      </div>
      <div>
        <input type="checkbox" name="retelet" id="retelet" />
        <label for="retelet">Retrovisores elétricos</label>
      </div>
      <div>
        <input type="checkbox" name="roda" id="roda" />
        <label for="roda">Roda de liga leve</label>
      </div>
      <div>
        <input type="checkbox" name="sensorchuva" id="sensorchuva" />
        <label for="sensorchuva">Sensor de chuva</label>
      </div>
      <div>
        <input type="checkbox" name="parksense" id="parksense" />
        <label for="parksense">Sensor de estacionamento</label>
      </div>
      <div>
        <input type="checkbox" name="teto" id="teto" />
        <label for="teto">Teto solar</label>
      </div>
      <div>
        <input type="checkbox" name="trava" id="trava" />
        <label for="trava">Travas elétricas</label>
      </div>
      <div>
        <input type="checkbox" name="vidros" id="vidros" />
        <label for="vidros">Vidros elétricos</label>
      </div>
      <div>
        <input type="checkbox" name="volantereg" id="volantereg" />
        <label for="volantereg">Volante com regulagem de altura</label>
      </div>
      <div>
        <input type="checkbox" name="volantemult" id="volantemult" />
        <label for="volantemult">Volante multifuncional</label>
      </div>
    </section>
    <section id="price"><h1>R$ 51.900,00</h1></section>
    <div id="buttons">
      <button id="edit">editar</button>
      <button onclick="getPDF()" id="printPDF">gerar pdf</button>
      <button onclick="window.print()" id="printPDF">imprimir</button>
    </div>
    <script>
      function getPDF() {
        var HTML_Width = $(".canvas_div_pdf").width()
        var HTML_Height = $(".canvas_div_pdf").height()
        var top_left_margin = 15
        var PDF_Width = HTML_Width + top_left_margin * 2
        var PDF_Height = PDF_Width * 1.5 + top_left_margin * 2
        var canvas_image_width = HTML_Width
        var canvas_image_height = HTML_Height

        var totalPDFPages = Math.ceil(HTML_Height / PDF_Height) - 1

        html2canvas($(".canvas_div_pdf")[0], { allowTaint: true }).then(
          function (canvas) {
            canvas.getContext("2d")

            console.log(canvas.height + "  " + canvas.width)

            var imgData = canvas.toDataURL("image/jpeg", 1.0)
            var pdf = new jsPDF("p", "pt", [PDF_Width, PDF_Height])
            pdf.addImage(
              imgData,
              "JPG",
              top_left_margin,
              top_left_margin,
              canvas_image_width,
              canvas_image_height
            )

            for (var i = 1; i <= totalPDFPages; i++) {
              pdf.addPage(PDF_Width, PDF_Height)
              pdf.addImage(
                imgData,
                "JPG",
                top_left_margin,
                -(PDF_Height * i) + top_left_margin * 4,
                canvas_image_width,
                canvas_image_height
              )
            }

            pdf.save("HTML-Document.pdf")
          }
        )
      }
    </script>
  </body>
</html>
